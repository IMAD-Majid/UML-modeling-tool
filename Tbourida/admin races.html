<!DOCTYPE html>
<html>
	<head>
		<title>Tbourida</title>
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<a href="admin index.html">Admin panel</a>
		<table>
			<thead>
				<tr>
					<th>Race</th>
					<th>Included</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
		<script src="connect.js"></script>
		<script>
			allRaces = "ABCDEFG";
			tableElm = document.querySelector("tbody");

			setTable();
			function setTable(){
				tableElm.innerHTML = '';
				newHTML = '';
				for (let r of allRaces){
					newHTML += `
					<tr>
						<td>
							<label onclick="toggleRace('${r}')" for="${r}">${r}</label>
						</td>
						<td>
							<input onclick="toggleRace('${r}')" id="${r}" value="${r}" type="checkbox"`;

					if (races.includes(r)){
						newHTML += "checked";
					}

					newHTML += `>
						</td>
					</tr>`;
				}
				tableElm.innerHTML = newHTML;
			}
			
		function toggleRace(race) {
			if (races.includes(race)) {
				delete races[races.indexOf(race)];
			} else {
				races.push(race);
			}
			saveDataRaces();
		}
			
		</script>
	</body>
</html>
